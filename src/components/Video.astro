---
import type { ImageMetadata } from "astro";
import type { HTMLAttributes } from 'astro/types';

interface Props extends Omit<HTMLAttributes<'video'>, 'poster'> {
  src: HTMLAttributes<'source'>['src'];
  poster?: ImageMetadata;
}

const { src, poster: { src: poster, width, height } = {}, ...props } = Astro.props;

---

<video
  controls
  muted
  playsinline
  preload="none"
  poster={poster}
  width={width}
  height={height}
  {...props}
>
  <source
    src={src}
    type="video/mp4"
  />
</video>
